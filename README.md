# Домашнее задание к занятию 10.3 "`Pacemaker`" - `Вдовин Вадим`

### Задание 1

Опишите основные функции и назначение Pacemaker.

#### ОТВЕТ:

Pacemaker — менеджер ресурсов кластера. Он позволяет использовать службы и объекты в рамках одного кластера из двух или более нод.

Его достоинства:
1. позволяет находить и устранять сбои на уровне нод и служб;
2. не зависит от подсистемы хранения: можем забыть общий накопитель, как страшный сон;
3. не зависит от типов ресурсов: все, что можно прописать в скрипты, можно кластеризовать;
4. поддерживает STONITH (Shoot-The-Other-Node-In-The-Head), то есть умершая нода изолируется и запросы к ней не поступают, пока нода не отправит сообщение о том, что она снова в рабочем состоянии;
5. поддерживает кворумные и ресурсозависимые кластеры любого размера;
6. поддерживает практически любую избыточную конфигурацию;
7. может автоматически реплицировать конфиг на все узлы кластера — не придется править все вручную;
8. можно задать порядок запуска ресурсов, а также их совместимость на одном узле;
9. поддерживает расширенные типы ресурсов: клоны и дополнительные состояния — актуально для СУБД (MySQL, MariaDB, PostgreSQL, Oracle);
10. имеет единую кластерную оболочку CRM с поддержкой скриптов.

### Задание 2

Опишите основные функции и назначение Corosync.

#### ОТВЕТ:

Corosync — программный продукт, который позволяет создавать единый кластер из нескольких аппаратных или виртуальных серверов. Corosync отслеживает и передает состояние всех участников (нод) в кластере.

Данный продукт позволяет:

1. мониторить статус приложений;
2. оповещать приложения о смене активной ноды в кластере;
3. отправлять идентичные сообщения процессам на всех нодах;
4. предоставлять доступ к общей базе данных с конфигурацией и статистикой;
5. отправлять уведомления об изменениях, произведенных в базе.

### Задание 3

Соберите модель, состоящую из двух виртуальных машин. Установите Pacemaker, Corosync, Pcs. Настройте HA кластер.

#### ОТВЕТ:
![10 03_1](https://github.com/V4d1M63/homework/assets/130470784/131a0440-56b8-4077-bb57-1e8bd33bed0a)
![10 03_1 (1)](https://github.com/V4d1M63/homework/assets/130470784/077c33fb-61e4-4aa8-ab69-d2bab4cb089b)
![10 03_2](https://github.com/V4d1M63/homework/assets/130470784/99b9b127-77ae-41fc-8fa1-315ea73a8c37)
![10 03_2 (1)](https://github.com/V4d1M63/homework/assets/130470784/42b8fd13-d959-4fc2-887f-fa2c36ae1c8a)


